<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 丙午年 武財神代補財庫 | 神霄玉府財神會館</title>
    <!-- 1. 載入 Tailwind CSS (美編樣式庫) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              stone: { 50: '#fafaf9', 100: '#f5f5f4', 200: '#e7e5e4', 300: '#d6d3d1', 400: '#a8a29e', 500: '#78716c', 600: '#57534e', 700: '#44403c', 800: '#292524', 900: '#1c1917', 950: '#0c0a09' },
            },
            animation: {
              'fade-in': 'fadeIn 0.5s ease-out',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0', transform: 'translateY(10px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              }
            }
          }
        }
      }
    </script>
    <!-- 2. 載入 React (核心程式庫) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- 3. 載入 Babel (讓瀏覽器看懂程式碼) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
      /* 額外自定義樣式 */
      body { background-color: #0c0a09; color: #d6d3d1; }
      .custom-scrollbar::-webkit-scrollbar { width: 6px; }
      .custom-scrollbar::-webkit-scrollbar-track { background: rgba(28, 25, 23, 0.5); border-radius: 8px; }
      .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(202, 138, 4, 0.5); border-radius: 8px; }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(202, 138, 4, 0.8); }
      input[type="date"]::-webkit-calendar-picker-indicator { filter: invert(1); cursor: pointer; opacity: 0.6; }
      input[type="date"]::-webkit-calendar-picker-indicator:hover { opacity: 1; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- 內建圖示組件 (SVG) ---
        // 為了單一檔案運作，直接將圖示內嵌
        const Icons = {
            Shield: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>,
            Flame: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg>,
            Wallet: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 7h-3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h3"/><path d="M4 5h13a2 2 0 0 1 2 2v1.5a2.5 2.5 0 0 0 5 0V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h15a2 2 0 0 0 2-2V9.5a2.5 2.5 0 0 0-5 0V11a2 2 0 0 1-2 2H4"/></svg>,
            TrendingUp: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>,
            CalendarDays: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/><path d="M8 14h.01"/><path d="M12 14h.01"/><path d="M16 14h.01"/><path d="M8 18h.01"/><path d="M12 18h.01"/><path d="M16 18h.01"/></svg>,
            ScrollText: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M15 12h-5"/><path d="M15 8h-5"/><path d="M19 17V5a2 2 0 0 0-2-2H4"/><path d="M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"/></svg>,
            UserCheck: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><polyline points="16 11 18 13 22 9"/></svg>,
            AlertTriangle: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" x2="12" y1="9" y2="13"/><line x1="12" x2="12.01" y1="17" y2="17"/></svg>,
            ArrowRight: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>,
            Sparkles: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 3v4"/><path d="M2 7h4"/><path d="M2 3h4"/></svg>,
            Star: ({size=24, className, fill="none"}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill={fill} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>,
            MessageCircle: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"/></svg>,
            Users: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        };

        // --- 2026 丙午年 初一十五 基礎日程表 ---
        const baseSchedule = [
          { month: '正月', d1: '', d15: '2026-03-03' },
          { month: '二月', d1: '2026-03-19', d15: '2026-04-02' },
          { month: '三月', d1: '2026-04-17', d15: '2026-05-01' },
          { month: '四月', d1: '2026-05-17', d15: '2026-05-31' },
          { month: '五月', d1: '2026-06-15', d15: '2026-06-29' },
          { month: '六月', d1: '2026-07-15', d15: '2026-07-29' },
          { month: '七月', d1: '2026-08-13', d15: '2026-08-27' },
          { month: '八月', d1: '2026-09-11', d15: '2026-09-25' },
          { month: '九月', d1: '2026-10-11', d15: '2026-10-25' },
          { month: '十月', d1: '2026-11-09', d15: '2026-11-23' },
          { month: '十一月', d1: '2026-12-09', d15: '2026-12-23' },
          { month: '十二月', d1: '2027-01-08', d15: '2027-01-22' },
        ];

        // 計算是否為戊日，並回傳調整後的日期
        const getAdjustedDate = (dateString) => {
          if (!dateString) return null;
          const parts = dateString.split('-');
          const date = new Date(parseInt(parts[0]), parseInt(parts[1]) - 1, parseInt(parts[2]));
          const baseDate = new Date(2026, 0, 1);
          const diffDays = Math.round((date - baseDate) / (1000 * 60 * 60 * 24));
          const stemIndex = (diffDays + 5) % 10; 
          const isWu = stemIndex === 4 || stemIndex === -6;

          if (isWu) {
            const nextDate = new Date(date);
            nextDate.setDate(date.getDate() + 1);
            const nextDateString = `${nextDate.getFullYear()}-${String(nextDate.getMonth() + 1).padStart(2, '0')}-${String(nextDate.getDate()).padStart(2, '0')}`;
            return { original: dateString, actual: nextDateString, isDelayed: true };
          }
          return { original: dateString, actual: dateString, isDelayed: false };
        };

        // --- 表單可選方案列表 ---
        const planOptions = [
          "【單次體驗】單次代補財庫 - NT$ 800"
        ];

        function App() {
          const [schedule, setSchedule] = useState([]);
          const [isSubmitting, setIsSubmitting] = useState(false);
          const [isSubmitted, setIsSubmitted] = useState(false);
          
          // 取得報名截止基準日 (今天 + 5 天)
          const cutoffDate = new Date();
          cutoffDate.setDate(cutoffDate.getDate() + 5);
          const cutoffDateString = `${cutoffDate.getFullYear()}-${String(cutoffDate.getMonth() + 1).padStart(2, '0')}-${String(cutoffDate.getDate()).padStart(2, '0')}`;

          // 表單狀態
          const [formData, setFormData] = useState({
            name: '', phone: '', address: '', 
            calendarType: '農曆', birthDate: '', birthTime: '吉時',
            selectedDates: [], // 複選日期陣列
            sessionType: planOptions[0],
            participantsCount: 1,
            additionalInfo: ''
          });

          useEffect(() => {
            const processedSchedule = baseSchedule.map(item => ({
              month: item.month,
              d1: getAdjustedDate(item.d1),
              d15: getAdjustedDate(item.d15)
            }));
            setSchedule(processedSchedule);
          }, []);

          const handleInputChange = (e) => {
            const { name, value } = e.target;
            setFormData(prev => ({ 
              ...prev, 
              // 確保下拉選單的份數必定為整數數字，防止型別判定錯誤
              [name]: name === 'participantsCount' ? parseInt(value, 10) || 1 : value 
            }));
          };

          // 處理日期複選的勾選邏輯
          const toggleDate = (dateActual) => {
            setFormData(prev => {
              const isSelected = prev.selectedDates.includes(dateActual);
              if (isSelected) {
                return { ...prev, selectedDates: prev.selectedDates.filter(d => d !== dateActual) };
              } else {
                return { ...prev, selectedDates: [...prev.selectedDates, dateActual] };
              }
            });
          };

          // 新增：重置表單並回到報名頁的函式
          const handleReset = () => {
            setIsSubmitted(false);
            setFormData({
              name: '', phone: '', address: '', 
              calendarType: '農曆', birthDate: '', birthTime: '吉時',
              selectedDates: [],
              sessionType: planOptions[0],
              participantsCount: 1,
              additionalInfo: ''
            });
            // 自動捲動到表單頂部
            document.getElementById('register').scrollIntoView({ behavior: 'smooth' });
          };

          const handleSubmit = async (e) => {
            e.preventDefault();
            
            // 防呆：確保至少有勾選一個日期
            if (formData.selectedDates.length === 0) {
              alert("請至少選擇一個法會日期！");
              return;
            }

            setIsSubmitting(true);
            
            // ⚠️ Google Apps Script URL
            const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbww0p7OBKoVoC0kp2dDZzLWuHEalhGy-n-FxxKMT6zwCLcmpjQ6cG2C0fVGZjTq/exec';
            
            // 計算本次訂單的總費用
            const calculatedTotal = 800 * parseInt(formData.participantsCount || 1, 10) * formData.selectedDates.length;

            const payload = {
              ...formData,
              selectedDate: formData.selectedDates.join('、 '),
              additionalInfo: formData.additionalInfo ? formData.additionalInfo : '無',
              totalPrice: calculatedTotal
            };

            // 除錯
            console.log("【資料送出檢查】準備送出給 Google 的資料包：", payload);

            try {
              const response = await fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'text/plain;charset=utf-8' },
                body: JSON.stringify(payload),
              });
              if (response.ok) {
                setIsSubmitted(true);
                // 自動捲動到最上方
                document.getElementById('register').scrollIntoView({ behavior: 'smooth' });
              } else {
                alert("送出失敗，請稍後再試或聯繫 LINE 客服。");
              }
            } catch (error) {
              console.error("提交錯誤:", error);
              alert("網路連線異常，請確認網路狀態後再試。");
            } finally {
              setIsSubmitting(false);
            }
          };

          // 總金額試算
          const totalPrice = 800 * parseInt(formData.participantsCount || 1, 10) * formData.selectedDates.length;

          return (
            <div className="relative min-h-screen text-stone-300 font-sans selection:bg-yellow-600 selection:text-white overflow-hidden bg-stone-950">
              
              {/* 全站底圖：高級深邃無圖漸層與光暈 */}
              <div className="fixed inset-0 z-[-2] bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-stone-900 via-stone-950 to-black"></div>
              <div className="fixed top-[-20%] left-[-10%] w-[50vw] h-[50vw] bg-yellow-600/10 blur-[120px] rounded-full pointer-events-none"></div>
              <div className="fixed bottom-[-20%] right-[-10%] w-[50vw] h-[50vw] bg-red-900/10 blur-[120px] rounded-full pointer-events-none"></div>

              {/* Hero Section */}
              <header className="relative py-28 px-4 sm:px-8 border-b border-yellow-900/50 overflow-hidden min-h-[85vh] flex items-center justify-center">
                <div className="absolute inset-0 z-0 bg-[radial-gradient(circle_at_top,_var(--tw-gradient-stops))] from-yellow-950/30 via-transparent to-transparent"></div>

                <div className="max-w-4xl mx-auto relative z-10 text-center space-y-8 mt-10">
                  <div className="inline-block px-6 py-2 rounded-full border border-yellow-500/80 bg-black/50 backdrop-blur-md text-yellow-500 font-bold tracking-widest text-sm mb-2 shadow-lg">
                    降叁 X 神霄玉府財神會館・正統道教祈福
                  </div>
                  <h1 className="text-5xl md:text-7xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 via-yellow-400 to-yellow-600 drop-shadow-[0_5px_5px_rgba(0,0,0,0.8)] leading-tight tracking-wide">
                    2026 丙午年<br className="md:hidden" />武財神鎮守<br />財庫滿盈計畫
                  </h1>
                  <p className="text-xl md:text-2xl text-stone-100 max-w-2xl mx-auto leading-relaxed font-medium drop-shadow-lg">
                    財富如烈馬，祈請武財神來鎮守；<br />
                    <span className="text-yellow-400 font-bold drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]">補庫不只是求財，更重要是守住你的財富。</span>
                  </p>
                  <div className="pt-8">
                    <a href="#register" className="inline-flex items-center gap-2 bg-gradient-to-r from-yellow-600 via-yellow-500 to-yellow-600 text-stone-950 font-bold text-xl px-10 py-5 rounded-full hover:scale-105 transition-all shadow-[0_0_30px_rgba(234,179,8,0.4)] hover:shadow-[0_0_40px_rgba(234,179,8,0.7)]">
                      立即預約補財庫 <Icons.ArrowRight size={24} />
                    </a>
                  </div>
                </div>
              </header>

              {/* Concept Section */}
              <section className="py-16 px-4 max-w-5xl mx-auto">
                <div className="text-center mb-12">
                  <h2 className="text-3xl font-bold text-yellow-500 mb-4 flex items-center justify-center gap-2">
                    <Icons.Shield className="text-yellow-600" /> 為什麼你必須補財庫？
                  </h2>
                  <div className="h-1 w-24 bg-yellow-600 mx-auto rounded"></div>
                </div>
                
                <div className="grid md:grid-cols-2 gap-8 items-center">
                  <div className="space-y-6 text-lg leading-relaxed">
                    <p>常有人問降叁：「<strong className="text-white">為什麼我明明很努力賺錢，但錢總是留不住？</strong>」</p>
                    <p>如果把你的財運比喻成一個水缸，「賺錢」是往缸裡倒水，而「財庫」就是水缸的底部。</p>
                    <div className="bg-red-950/40 border border-red-900 p-4 rounded-lg relative overflow-hidden">
                      <div className="absolute top-0 right-0 p-2 opacity-10"><Icons.Flame size={80} className="text-red-500" /></div>
                      <p className="text-yellow-100 relative z-10">
                        若缸底有破洞（漏財、沖煞、冤親債主阻礙），水進的再多再快，終究會在短時間漏光。
                      </p>
                    </div>
                    <p>
                      2026年是「<strong className="text-yellow-400">丙午年</strong>」，五行屬火，象徵「<strong className="text-red-400">烈火奔馬</strong>」。這一年局勢變動極快，機會稍縱即逝，財運起伏劇烈。
                    </p>
                    <p>
                      在這樣的年份，更需要<strong className="text-yellow-400">【武財神趙公明】</strong>的威猛神力，不僅為您招財（進水），更要強勢鎮守財庫（補洞），讓你的財富在火馬年能穩如泰山，只進不出。
                    </p>
                  </div>
                  <div className="bg-stone-900/80 backdrop-blur-md border border-stone-800 p-8 rounded-2xl shadow-2xl relative overflow-hidden">
                    <h3 className="text-xl font-bold text-white mb-6 border-b border-stone-800 pb-4">哪些人最需要補財庫？</h3>
                    <ul className="space-y-5">
                      <li className="flex gap-4 items-start">
                        <div className="bg-yellow-900/40 p-2 rounded-lg text-yellow-500 shrink-0"><Icons.UserCheck size={24} /></div>
                        <div>
                          <strong className="text-yellow-200 block mb-1">做生意的老闆 / 創業者</strong>
                          <p className="text-sm text-stone-400 leading-snug">現金流大進大出，需要武財神坐鎮，防範破財與商業糾紛。</p>
                        </div>
                      </li>
                      <li className="flex gap-4 items-start">
                        <div className="bg-yellow-900/40 p-2 rounded-lg text-yellow-500 shrink-0"><Icons.TrendingUp size={24} /></div>
                        <div>
                          <strong className="text-yellow-200 block mb-1">業務 / 銷售 / 房仲 / 保險</strong>
                          <p className="text-sm text-stone-400 leading-snug">收入不穩定，業績起伏大，需要補庫來穩定每月的正財源。</p>
                        </div>
                      </li>
                      <li className="flex gap-4 items-start">
                        <div className="bg-yellow-900/40 p-2 rounded-lg text-yellow-500 shrink-0"><Icons.ScrollText size={24} /></div>
                        <div>
                          <strong className="text-yellow-200 block mb-1">投資理財 / 股票 / 幣圈玩家</strong>
                          <p className="text-sm text-stone-400 leading-snug">丙午年市場波動大，需要偏財運加持，精準眼光，獲利入袋。</p>
                        </div>
                      </li>
                      <li className="flex gap-4 items-start">
                        <div className="bg-yellow-900/40 p-2 rounded-lg text-yellow-500 shrink-0"><Icons.Wallet size={24} /></div>
                        <div>
                          <strong className="text-yellow-200 block mb-1">錢包破洞族 / SOHO接案族</strong>
                          <p className="text-sm text-stone-400 leading-snug">常有無妄之災破財，或希望案源不斷順利收款，皆是財庫漏水需修補。</p>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </section>

              {/* Pricing & Plans Section */}
              <section className="py-20 bg-stone-900/40 backdrop-blur-sm border-t border-stone-800/50 px-4 relative">
                <div className="max-w-6xl mx-auto space-y-12">
                  
                  <div className="text-center space-y-4">
                    <h2 className="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-yellow-600">
                      2026 丙午年 財庫結緣方案
                    </h2>
                    <p className="text-lg text-stone-400 max-w-2xl mx-auto">
                      財庫如水缸，補洞需長期修繕。選擇最適合您的守財計畫，讓火馬年穩如泰山。
                    </p>
                  </div>

                  {/* 單次引流款 */}
                  <div className="max-w-4xl mx-auto bg-gradient-to-br from-stone-900 to-stone-950 backdrop-blur-xl border border-yellow-700/40 p-8 sm:p-10 rounded-3xl flex flex-col md:flex-row items-center justify-between gap-8 hover:border-yellow-500 transition-all shadow-[0_0_50px_rgba(234,179,8,0.05)] relative overflow-hidden">
                    <div className="absolute top-0 right-0 w-64 h-64 bg-yellow-600/5 blur-[80px] rounded-full pointer-events-none"></div>

                    <div className="flex-1 space-y-4 text-center md:text-left relative z-10">
                      <h3 className="text-2xl font-bold text-white flex items-center justify-center md:justify-start gap-2">
                        <Icons.Sparkles className="text-yellow-500" size={24} /> 基準體驗・單次代補財庫
                      </h3>
                      <p className="text-stone-400 text-sm md:text-base leading-relaxed">
                        初次結緣，體驗武財神威猛神力與專業科儀。<br/>
                        我們將為您代辦疏文與金紙化吉，補足當月財庫破洞。
                      </p>
                      <div className="inline-block bg-yellow-950/50 text-yellow-400 text-sm px-5 py-2.5 rounded-xl border border-yellow-700/50 mt-2 font-medium shadow-inner">
                        🎁 結緣禮：招財符 x1 + 藥王願香(10ml) x1
                      </div>
                    </div>

                    <div className="text-center md:text-right shrink-0 relative z-10">
                      <div className="text-stone-500 line-through text-sm mb-1 font-medium">原價 $880</div>
                      <div className="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-b from-yellow-300 to-yellow-600 mb-4 drop-shadow-md">NT$ 800</div>
                      <a href="#register" className="inline-block bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-400 hover:to-yellow-300 text-stone-950 font-bold px-10 py-3 rounded-full transition-all transform hover:scale-105 shadow-[0_0_20px_rgba(234,179,8,0.3)]">
                        立即登記
                      </a>
                    </div>
                  </div>

                </div>
              </section>

              {/* Schedule Table Section */}
              <section className="py-16 px-4 max-w-4xl mx-auto">
                <div className="text-center mb-10">
                  <h2 className="text-3xl font-bold text-yellow-500 flex items-center justify-center gap-2 mb-4">
                    <Icons.CalendarDays /> 2026 丙午年 科儀日程表
                  </h2>
                  <p className="text-stone-400">系統已自動為您避開「戊日」，逢戊日之科儀皆已標示順延一日。</p>
                </div>

                <div className="overflow-x-auto bg-stone-900/80 backdrop-blur-md rounded-xl border border-stone-800 shadow-xl">
                  <table className="w-full text-left text-sm md:text-base">
                    <thead className="bg-stone-950/80 text-yellow-500 border-b border-stone-800">
                      <tr>
                        <th className="p-4 font-bold text-center">農曆月份</th>
                        <th className="p-4 font-bold">初一科儀日 (國曆)</th>
                        <th className="p-4 font-bold">十五科儀日 (國曆)</th>
                      </tr>
                    </thead>
                    <tbody className="divide-y divide-stone-800">
                      {schedule.map((item, index) => (
                        <tr key={index} className="hover:bg-stone-800/50 transition-colors">
                          <td className="p-4 font-bold text-center text-yellow-100">{item.month}</td>
                          <td className="p-4">
                            {item.d1 ? (
                              item.d1.isDelayed ? (
                                <div className="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2">
                                  <span className="line-through text-stone-500 text-xs">{item.d1.original}</span>
                                  <span className="text-red-400 font-bold">{item.d1.actual}</span>
                                  <span className="bg-red-900/60 text-red-200 text-[10px] px-2 py-0.5 rounded border border-red-800 whitespace-nowrap">戊日順延</span>
                                </div>
                              ) : (
                                <span className="text-stone-300">{item.d1.actual}</span>
                              )
                            ) : (
                              <span className="text-stone-500 text-sm">暫停舉辦</span>
                            )}
                          </td>
                          <td className="p-4">
                            {item.d15 ? (
                              item.d15.isDelayed ? (
                                <div className="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2">
                                  <span className="line-through text-stone-500 text-xs">{item.d15.original}</span>
                                  <span className="text-red-400 font-bold">{item.d15.actual}</span>
                                  <span className="bg-red-900/60 text-red-200 text-[10px] px-2 py-0.5 rounded border border-red-800 whitespace-nowrap">戊日順延</span>
                                </div>
                              ) : (
                                <span className="text-stone-300">{item.d15.actual}</span>
                              )
                            ) : (
                              <span className="text-stone-500 text-sm">暫停舉辦</span>
                            )}
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              </section>

              {/* Feedback / Testimonials Section */}
              <section className="py-20 bg-stone-900/40 backdrop-blur-sm border-t border-stone-800/50 px-4">
                <div className="max-w-6xl mx-auto space-y-12">
                  <div className="text-center space-y-4">
                    <h2 className="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-yellow-600 flex items-center justify-center gap-3">
                      <Icons.MessageCircle className="text-yellow-500" size={32} /> 信眾真實回饋
                    </h2>
                    <p className="text-lg text-stone-400 max-w-2xl mx-auto">
                      財庫補得穩，財源自然滾滾來。看看他們如何在武財神的護佑下穩守財庫。
                    </p>
                  </div>

                  <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div className="bg-stone-950/80 backdrop-blur-md border border-stone-700/50 p-6 rounded-2xl shadow-lg hover:border-yellow-600/50 transition-colors">
                      <div className="flex gap-1 mb-4 text-yellow-500">
                        <Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} />
                      </div>
                      <p className="text-stone-300 text-sm leading-relaxed mb-6 italic">
                        「自從去年開始請降叁老師代補財庫，店裡的客源穩定很多，連原本的奧客都變少了。今年火馬年果斷直上全年VIP，今年的禮包真的超有誠意！」
                      </p>
                      <div className="flex items-center gap-3 border-t border-stone-800 pt-4">
                        <div className="w-10 h-10 rounded-full bg-yellow-900/50 flex items-center justify-center text-yellow-500 font-bold">王</div>
                        <div>
                          <div className="text-white font-bold text-sm">王老闆</div>
                          <div className="text-stone-500 text-xs">餐飲業負責人</div>
                        </div>
                      </div>
                    </div>

                    <div className="bg-stone-950/80 backdrop-blur-md border border-stone-700/50 p-6 rounded-2xl shadow-lg hover:border-yellow-600/50 transition-colors">
                      <div className="flex gap-1 mb-4 text-yellow-500">
                        <Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} />
                      </div>
                      <p className="text-stone-300 text-sm leading-relaxed mb-6 italic">
                        「業務這行真的很看運氣，上個月剛補完，原本猶豫不決的客戶突然就點頭簽約了，真的有補有差，業績直接達標！現在我都固定選半年方案穩穩做。」
                      </p>
                      <div className="flex items-center gap-3 border-t border-stone-800 pt-4">
                        <div className="w-10 h-10 rounded-full bg-blue-900/50 flex items-center justify-center text-blue-400 font-bold">林</div>
                        <div>
                          <div className="text-white font-bold text-sm">林小姐</div>
                          <div className="text-stone-500 text-xs">房仲代銷</div>
                        </div>
                      </div>
                    </div>

                    <div className="bg-stone-950/80 backdrop-blur-md border border-stone-700/50 p-6 rounded-2xl shadow-lg hover:border-yellow-600/50 transition-colors">
                      <div className="flex gap-1 mb-4 text-yellow-500">
                        <Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} />
                      </div>
                      <p className="text-stone-300 text-sm leading-relaxed mb-6 italic">
                        「前陣子股市震盪大，聽朋友建議找降叁老師來補財庫，心態變穩了，幾波操作也都有順利獲利入袋。那個贈送的翡翠葫蘆我直接擺在辦公桌上，非常有感。」
                      </p>
                      <div className="flex items-center gap-3 border-t border-stone-800 pt-4">
                        <div className="w-10 h-10 rounded-full bg-emerald-900/50 flex items-center justify-center text-emerald-400 font-bold">陳</div>
                        <div>
                          <div className="text-white font-bold text-sm">陳先生</div>
                          <div className="text-stone-500 text-xs">專職投資人</div>
                        </div>
                      </div>
                    </div>

                    <div className="bg-stone-950/80 backdrop-blur-md border border-stone-700/50 p-6 rounded-2xl shadow-lg hover:border-yellow-600/50 transition-colors lg:col-start-1 lg:col-end-2 lg:translate-x-1/2">
                      <div className="flex gap-1 mb-4 text-yellow-500">
                        <Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} />
                      </div>
                      <p className="text-stone-300 text-sm leading-relaxed mb-6 italic">
                        「以前常常遇到案子做完收不到尾款，或是無妄之災破財(車子壞掉之類的)。定期每個月補庫後，現在案源穩定，款項也進得很順，感謝武財神！」
                      </p>
                      <div className="flex items-center gap-3 border-t border-stone-800 pt-4">
                        <div className="w-10 h-10 rounded-full bg-purple-900/50 flex items-center justify-center text-purple-400 font-bold">張</div>
                        <div>
                          <div className="text-white font-bold text-sm">張小姐</div>
                          <div className="text-stone-500 text-xs">SOHO 自由接案</div>
                        </div>
                      </div>
                    </div>

                    <div className="bg-stone-950/80 backdrop-blur-md border border-stone-700/50 p-6 rounded-2xl shadow-lg hover:border-yellow-600/50 transition-colors lg:col-start-2 lg:col-end-3 lg:translate-x-1/2">
                      <div className="flex gap-1 mb-4 text-yellow-500">
                        <Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} /><Icons.Star fill="currentColor" size={16} />
                      </div>
                      <p className="text-stone-300 text-sm leading-relaxed mb-6 italic">
                        「降叁老師『戊日不朝真』的堅持讓我非常信任！不隨便敷衍，結緣品也都很有質感，整個家裡的氣場自從點了願香都不一樣了。」
                      </p>
                      <div className="flex items-center gap-3 border-t border-stone-800 pt-4">
                        <div className="w-10 h-10 rounded-full bg-red-900/50 flex items-center justify-center text-red-400 font-bold">黃</div>
                        <div>
                          <div className="text-white font-bold text-sm">黃大哥</div>
                          <div className="text-stone-500 text-xs">自營電商</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </section>

              {/* Registration Form */}
              <section id="register" className="py-20 px-4 max-w-3xl mx-auto">
                <div className="bg-stone-900/80 backdrop-blur-md p-8 md:p-10 rounded-2xl shadow-2xl border-t-4 border-yellow-600 transition-all duration-500">
                  
                  {isSubmitted ? (
                    <div className="text-center py-10 space-y-6 animate-fade-in max-w-lg mx-auto">
                      <div className="mx-auto w-24 h-24 bg-yellow-900/30 rounded-full flex items-center justify-center text-yellow-500 shadow-[0_0_30px_rgba(234,179,8,0.4)] mb-6">
                        <Icons.Sparkles size={48} />
                      </div>
                      <h2 className="text-3xl md:text-4xl font-bold text-white mb-2">報名成功！</h2>
                      <h3 className="text-xl md:text-2xl font-bold text-yellow-500 mb-6">感謝參與武財神代補財庫科儀</h3>
                      
                      <div className="bg-stone-950/60 border border-yellow-700/50 p-6 md:p-8 rounded-xl shadow-inner relative overflow-hidden mb-4">
                         <div className="absolute top-0 right-0 p-2 opacity-10"><Icons.Flame size={60} className="text-red-500" /></div>
                         <p className="text-stone-300 text-lg leading-relaxed relative z-10">
                            您的疏文與資料已妥善建檔。<br />
                            祈願武財神趙公明威猛護佑：<br />
                            <span className="text-yellow-400 text-2xl font-bold block mt-6 drop-shadow-md">
                              「丙午火馬年，財源奔騰，<br/>日進斗金，天庫滿盈！」
                            </span>
                         </p>
                      </div>

                      {/* 匯款資訊區塊 (感謝頁面版) */}
                      <div className="bg-gradient-to-b from-stone-900 to-stone-950 backdrop-blur-sm p-6 md:p-8 rounded-xl border border-yellow-700/50 space-y-4 shadow-lg relative overflow-hidden text-left">
                        <div className="absolute right-[-10%] top-[-20%] w-48 h-48 bg-yellow-600/10 blur-[60px] rounded-full pointer-events-none"></div>
                        
                        <h3 className="text-xl font-bold text-yellow-500 mb-4 flex items-center gap-2 relative z-10">
                          <Icons.Wallet size={24} className="text-yellow-600" /> 專屬匯款資訊
                        </h3>
                        
                        <div className="bg-black/40 rounded-lg p-5 border border-stone-800 space-y-3 font-mono text-lg relative z-10">
                          <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center border-b border-stone-800 pb-3 gap-1">
                            <span className="text-stone-400 font-sans text-sm">銀行代號</span>
                            <span className="font-bold text-yellow-400">013 <span className="text-base font-sans text-stone-300">(國泰世華銀行)</span></span>
                          </div>
                          <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center pt-2 gap-1">
                            <span className="text-stone-400 font-sans text-sm">匯款帳號</span>
                            <span className="font-black text-yellow-400 text-2xl tracking-widest">059506013547</span>
                          </div>
                          {/* 動態顯示總金額與報名細節 */}
                          <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center pt-4 mt-2 border-t border-stone-800 gap-2">
                            <span className="text-stone-400 font-sans text-sm">
                              本次共報名 {formData.participantsCount} 份，共 {formData.selectedDates.length} 場<br/>
                              {formData.participantsCount > 1 && (
                                <span className="text-yellow-600/80 text-xs mt-1 block">備註資料已隨單附上</span>
                              )}
                              <span className="inline-block mt-1">應繳結緣總金</span>
                            </span>
                            <span className="font-black text-yellow-400 text-3xl">NT$ {totalPrice.toLocaleString()}</span>
                          </div>
                        </div>
                      </div>

                      <div className="pt-4 space-y-4">
                        <p className="text-stone-400 text-sm">
                          ※ 提醒您：匯款後請務必點擊下方按鈕至 LINE@ 告知「匯款後五碼」與「姓名」以便對帳喔！
                        </p>
                        <a href="https://line.me/ti/p/~@995zkady#" target="_blank" rel="noopener noreferrer" className="flex items-center justify-center gap-2 w-full bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-500 hover:to-yellow-400 text-stone-950 font-bold px-8 py-4 rounded-xl transition-all transform hover:-translate-y-1 shadow-[0_0_20px_rgba(234,179,8,0.3)]">
                          <Icons.MessageCircle size={20} /> 前往 LINE@ 回報匯款資訊
                        </a>
                        
                        {/* 新增：回到報名頁按鈕 */}
                        <button 
                          onClick={handleReset}
                          className="w-full bg-stone-800 hover:bg-stone-700 text-stone-300 font-bold py-4 rounded-xl transition-colors border border-stone-700 hover:border-stone-600 flex items-center justify-center gap-2"
                        >
                          返回重新報名
                        </button>
                      </div>
                    </div>
                  ) : (
                    <>
                      <div className="text-center mb-8">
                        <h2 className="text-3xl font-bold text-white mb-2">線上報名登記</h2>
                        <p className="text-stone-400 text-sm">請填寫正確資訊，法器與贈品將依填寫之地址寄送。</p>
                      </div>

                      <form onSubmit={handleSubmit} className="space-y-6">
                        
                        {/* 報名份數設定區塊 */}
                        <div className="bg-stone-950/60 backdrop-blur-sm p-6 rounded-xl border border-yellow-700/50 space-y-4 transition-all">
                          <label className="block text-sm font-medium text-yellow-500 mb-2 flex items-center gap-2">
                            <Icons.Users size={18} /> 請選擇報名份數
                          </label>
                          <p className="text-xs text-stone-400 mb-3">※ 若欲為家人或多位親友一同報名，請選擇總份數。</p>
                          <select 
                            name="participantsCount"
                            value={formData.participantsCount} 
                            onChange={handleInputChange}
                            className="w-full bg-stone-900/80 border border-stone-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-yellow-500 text-lg font-bold cursor-pointer"
                          >
                            {[...Array(10)].map((_, i) => (
                              <option key={i+1} value={i+1}>{i+1} 份</option>
                            ))}
                          </select>

                          {/* 動態顯示備註欄位 (超過1人時才顯示) */}
                          {formData.participantsCount > 1 && (
                            <div className="mt-6 pt-4 border-t border-stone-800 space-y-3 animate-fade-in">
                              <label className="block text-sm font-medium text-yellow-500">
                                其他祈福者資料 / 備註
                              </label>
                              <p className="text-xs text-stone-400 leading-relaxed">
                                您選擇了 {formData.participantsCount} 份報名，請在此處填寫(包含您)所有參與者的資料以便撰寫疏文。<br/>
                                <span className="text-yellow-600/90 font-medium">格式：姓名 / 國曆(或農曆) 生日 / 時辰 / 地址</span>
                              </p>
                              <textarea 
                                name="additionalInfo" 
                                rows="4"
                                value={formData.additionalInfo} onChange={handleInputChange}
                                placeholder="例：&#10;1. 王大明 / 國曆 1990-05-12 / 午時 / 台北市...&#10;2. 李小美 / 農曆 1992-08-15 / 吉時 / 台北市..."
                                className="w-full bg-stone-900/80 border border-stone-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-yellow-500 transition resize-none"
                              ></textarea>
                            </div>
                          )}
                        </div>

                        <div className="grid md:grid-cols-2 gap-6">
                          <div className="space-y-2">
                            <label className="block text-sm font-medium text-stone-300">主要聯絡人 / 祈福者姓名 *</label>
                            <input 
                              type="text" name="name" required
                              value={formData.name} onChange={handleInputChange}
                              className="w-full bg-stone-900/60 border border-stone-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500 transition"
                              placeholder="請填寫真實姓名"
                            />
                          </div>

                          <div className="space-y-2">
                            <label className="block text-sm font-medium text-stone-300">聯絡電話 *</label>
                            <input 
                              type="tel" name="phone" required
                              value={formData.phone} onChange={handleInputChange}
                              className="w-full bg-stone-900/60 border border-stone-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500 transition"
                              placeholder="09xx-xxxxxx"
                            />
                          </div>
                        </div>

                        <div className="space-y-2">
                          <label className="block text-sm font-medium text-stone-300">居住與寄件地址 *</label>
                          <input 
                            type="text" name="address" required
                            value={formData.address} onChange={handleInputChange}
                            className="w-full bg-stone-900/60 border border-stone-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500 transition"
                            placeholder="請填寫完整常住地址（疏文稟報與贈品寄送用）"
                          />
                        </div>

                        <div className="bg-stone-950/60 backdrop-blur-sm p-6 rounded-xl border border-stone-800 space-y-4">
                          <label className="block text-sm font-medium text-yellow-500 mb-2">生日資訊（疏文填寫必備）</label>
                          
                          <div className="flex gap-4 mb-4">
                            <label className="flex items-center gap-2 cursor-pointer">
                              <input type="radio" name="calendarType" value="農曆" 
                                checked={formData.calendarType === '農曆'} onChange={handleInputChange}
                                className="accent-yellow-600" />
                              <span className="text-stone-300">農曆生辰</span>
                            </label>
                            <label className="flex items-center gap-2 cursor-pointer">
                              <input type="radio" name="calendarType" value="國曆" 
                                checked={formData.calendarType === '國曆'} onChange={handleInputChange}
                                className="accent-yellow-600" />
                              <span className="text-stone-300">國曆生日</span>
                            </label>
                          </div>

                          <div className="grid grid-cols-2 md:grid-cols-3 gap-4">
                            <div className="col-span-2 md:col-span-2 space-y-2">
                              <label className="block text-xs text-stone-400">出生年月日 (西元) *</label>
                              <input 
                                type="date" name="birthDate" required
                                value={formData.birthDate} onChange={handleInputChange}
                                className="w-full bg-stone-900/80 border border-stone-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-yellow-500"
                                style={{ colorScheme: 'dark' }}
                              />
                            </div>
                            <div className="col-span-2 md:col-span-1 space-y-2">
                              <label className="block text-xs text-stone-400">出生時辰</label>
                              <select 
                                name="birthTime"
                                value={formData.birthTime} onChange={handleInputChange}
                                className="w-full bg-stone-900/80 border border-stone-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-yellow-500"
                              >
                                <option value="吉時">不知道 (以吉時排)</option>
                                <option value="子時 (23:00-01:00)">子時 (23:00-01:00)</option>
                                <option value="丑時 (01:00-03:00)">丑時 (01:00-03:00)</option>
                                <option value="寅時 (03:00-05:00)">寅時 (03:00-05:00)</option>
                                <option value="卯時 (05:00-07:00)">卯時 (05:00-07:00)</option>
                                <option value="辰時 (07:00-09:00)">辰時 (07:00-09:00)</option>
                                <option value="巳時 (09:00-11:00)">巳時 (09:00-11:00)</option>
                                <option value="午時 (11:00-13:00)">午時 (11:00-13:00)</option>
                                <option value="未時 (13:00-15:00)">未時 (13:00-15:00)</option>
                                <option value="申時 (15:00-17:00)">申時 (15:00-17:00)</option>
                                <option value="酉時 (17:00-19:00)">酉時 (17:00-19:00)</option>
                                <option value="戌時 (19:00-21:00)">戌時 (19:00-21:00)</option>
                                <option value="亥時 (21:00-23:00)">亥時 (21:00-23:00)</option>
                              </select>
                            </div>
                          </div>
                        </div>

                        {/* 法會日期複選區塊 */}
                        <div className="bg-stone-950/60 backdrop-blur-sm p-6 rounded-xl border border-stone-800 space-y-4">
                          <div className="mb-3">
                            <label className="block text-sm font-medium text-yellow-500">請選擇參加法會日期 (可複選) *</label>
                            <p className="text-xs text-red-400 mt-1">※ 為確保疏文撰寫與法器準備，各場次將於法會前 5 天自動截止報名。</p>
                          </div>
                          
                          <div className="grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-72 overflow-y-auto pr-2 custom-scrollbar">
                            {schedule.flatMap((item, idx) => {
                              const sessions = [];
                              if (item.d1) sessions.push({ type: '初一', dateInfo: item.d1, month: item.month, key: `d1-${idx}` });
                              if (item.d15) sessions.push({ type: '十五', dateInfo: item.d15, month: item.month, key: `d15-${idx}` });
                              return sessions;
                            })
                            .filter(session => session.dateInfo.actual >= cutoffDateString)
                            .map(session => {
                              const isSelected = formData.selectedDates.includes(session.dateInfo.actual);
                              return (
                                <label 
                                  key={session.key} 
                                  className={`flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-all ${
                                    isSelected 
                                      ? 'bg-yellow-900/30 border-yellow-500 shadow-[0_0_10px_rgba(234,179,8,0.2)]' 
                                      : 'bg-stone-900/60 border-stone-700 hover:border-yellow-600/50'
                                  }`}
                                >
                                  <input 
                                    type="checkbox" 
                                    checked={isSelected} 
                                    onChange={() => toggleDate(session.dateInfo.actual)}
                                    className="accent-yellow-600 w-5 h-5 rounded cursor-pointer shrink-0" 
                                  />
                                  <div className="flex flex-col">
                                    <span className={`text-sm md:text-base leading-snug ${isSelected ? 'text-yellow-400 font-bold' : 'text-stone-300'}`}>
                                      {session.month} {session.type}科儀
                                    </span>
                                    <span className="text-xs text-stone-500 mt-0.5">
                                      {session.dateInfo.actual} {session.dateInfo.isDelayed && <span className="ml-1 text-[10px] bg-red-900/60 text-red-200 px-1.5 py-0.5 rounded border border-red-800">戊日順延</span>}
                                    </span>
                                  </div>
                                </label>
                              );
                            })}
                          </div>
                        </div>

                        {/* 匯款資訊區塊 */}
                        <div className="bg-gradient-to-b from-stone-900 to-stone-950 backdrop-blur-sm p-6 md:p-8 rounded-xl border border-yellow-700/50 space-y-4 shadow-lg relative overflow-hidden">
                          <div className="absolute right-[-10%] top-[-20%] w-48 h-48 bg-yellow-600/10 blur-[60px] rounded-full pointer-events-none"></div>
                          
                          <h3 className="text-xl font-bold text-yellow-500 mb-4 flex items-center gap-2 relative z-10">
                            <Icons.Wallet size={24} className="text-yellow-600" /> 專屬匯款資訊
                          </h3>
                          
                          <div className="bg-black/40 rounded-lg p-5 border border-stone-800 space-y-3 font-mono text-lg relative z-10">
                            <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center border-b border-stone-800 pb-3 gap-1">
                              <span className="text-stone-400 font-sans text-sm">銀行代號</span>
                              <span className="font-bold text-yellow-400">013 <span className="text-base font-sans text-stone-300">(國泰世華銀行)</span></span>
                            </div>
                            <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center pt-2 gap-1">
                              <span className="text-stone-400 font-sans text-sm">匯款帳號</span>
                              <span className="font-black text-yellow-400 text-2xl tracking-widest">059506013547</span>
                            </div>
                            {/* 動態顯示總金額 */}
                            <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center pt-4 mt-2 border-t border-stone-800 gap-1">
                              <span className="text-stone-400 font-sans text-sm">本次應繳結緣金</span>
                              <span className="font-black text-yellow-400 text-2xl">NT$ {totalPrice.toLocaleString()}</span>
                            </div>
                          </div>
                          
                          <div className="bg-red-950/30 border border-red-900/50 p-4 rounded-lg text-sm text-red-200 flex items-start gap-3 relative z-10">
                            <Icons.AlertTriangle size={20} className="shrink-0 mt-0.5 text-red-400" />
                            <p className="leading-relaxed">
                              匯款完成後，請務必至 <a href="https://line.me/ti/p/~@995zkady#" target="_blank" rel="noopener noreferrer" className="text-yellow-400 border-b border-yellow-500/50 hover:text-yellow-300 hover:border-yellow-400 font-bold transition-colors">LINE@ 官方帳號</a> 告知您的<strong className="text-white">「匯款帳號後五碼」</strong>與<strong className="text-white">「報名姓名」</strong>，以便盡速為您對帳並安排科儀。
                            </p>
                          </div>
                        </div>

                        <div className="pt-4">
                          <button 
                            type="submit" 
                            disabled={isSubmitting}
                            className="w-full flex items-center justify-center flex-col bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-500 hover:to-yellow-400 text-stone-950 font-bold text-xl py-4 rounded-xl shadow-[0_0_15px_rgba(234,179,8,0.2)] transition-all transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0"
                          >
                            {isSubmitting ? '資料傳送中...' : `確認送出 (共 ${totalPrice.toLocaleString()} 元)`}
                          </button>
                          <p className="text-center text-xs text-stone-500 mt-4 leading-relaxed">
                            報名完成後，您的專屬法器與贈品將隨代燒後的結緣品一併寄出。
                          </p>
                        </div>
                      </form>
                    </>
                  )}
                </div>
              </section>

              {/* Footer */}
              <footer className="bg-black/80 backdrop-blur-md py-8 text-center text-stone-500 text-sm border-t border-stone-900/50">
                <p>神霄玉府財神會館 © 2026 丙午年 代補財庫祈福專案</p>
                <p className="mt-2 text-stone-600">本站為展示用途，請串接實際 LINE@ 帳號以便收單聯繫</p>
              </footer>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>