<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¦å¾·æ­£ç¥ï½œåˆäºŒã€åå…­â€§è£œè²¡åº«ç§‘å„€</title>
    
    <!-- 1. è¼‰å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'dao-black': '#0a0908',
                        'dao-dark': '#14110f',
                        'dao-gold': '#d4af37',
                        'dao-gold-light': '#fcf6ba',
                        'dao-red': '#991b1b',
                        'dao-wealth': '#b45309',
                        stone: { 800: '#1c1917', 900: '#0c0a09', 950: '#050a08' },
                    },
                    fontFamily: {
                        'serif': ['"Noto Serif TC"', 'serif'],
                        'sans': ['"Noto Sans TC"', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.8s ease-out forwards',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float-slow': 'float 8s ease-in-out infinite',
                        'float-delayed': 'float 8s ease-in-out 4s infinite',
                        'spin-very-slow': 'spin 20s linear infinite',
                        'glow': 'glow 3s ease-in-out infinite alternate',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(15px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px) rotate(0deg)' },
                            '50%': { transform: 'translateY(-25px) rotate(3deg)' },
                        },
                        glow: {
                            '0%': { filter: 'drop-shadow(0 0 10px rgba(212,175,55,0.3))' },
                            '100%': { filter: 'drop-shadow(0 0 25px rgba(212,175,55,0.8))' },
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- 2. è¼‰å…¥ React -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- 3. è¼‰å…¥ Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- 4. Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700;900&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { background-color: #0a0908; color: #e5e7eb; font-family: 'Noto Sans TC', sans-serif; overflow-x: hidden; }
        .serif-font { font-family: 'Noto Serif TC', serif; }
        
        /* è³ªæ„Ÿæ²å‹•æ¢ */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: rgba(180, 83, 9, 0.1); border-radius: 8px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(212, 175, 55, 0.5); border-radius: 8px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(212, 175, 55, 0.8); }
        
        input[type="date"] { color-scheme: dark; }
        
        /* ç¥è–é‡‘å±¬æ–‡å­—æ¼¸å±¤ */
        .gold-text {
            background: linear-gradient(to bottom, #fffadb 0%, #fcf6ba 20%, #d4af37 60%, #aa771c 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0px 4px 15px rgba(212, 175, 55, 0.3);
        }

        /* èƒŒæ™¯è²¡å¯Œåº•ç´‹ */
        .wealth-pattern {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 30c0-16.569 13.431-30 30-30v60c-16.569 0-30-13.431-30-30zM0 30c0 16.569 13.431 30 30 30V0C13.431 0 0 13.431 0 30z' fill='%23d4af37' fill-opacity='0.02' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        /* éš±è—é è¨­ checkbox æ¨£å¼ */
        input[type="checkbox"] { accent-color: #d4af37; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- SVG åœ–ç¤ºçµ„ä»¶ ---
        const Icons = {
            Ingot: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M4 11l2-4h12l2 4v2c0 3.31-4.69 6-10 6S2 16.31 2 13v-2z" fill="#d4af37"/><path d="M6 7l2-2h8l2 2H6z" fill="#fcf6ba"/><path d="M12 17c4.42 0 8-1.79 8-4H4c0 2.21 3.58 4 8 4z" fill="#aa771c"/></svg>,
            Coin: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none"><path fillRule="evenodd" clipRule="evenodd" d="M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12C22 6.477 17.523 2 12 2ZM9 9H15V15H9V9Z" fill="#d4af37"/><path fillRule="evenodd" clipRule="evenodd" d="M12 4C7.582 4 4 7.582 4 12C4 16.418 7.582 20 12 20C16.418 20 20 16.418 20 12C20 7.582 16.418 4 12 4ZM8.5 8.5H15.5V15.5H8.5V8.5Z" fill="#aa771c"/><rect x="8.5" y="8.5" width="7" height="7" stroke="#fcf6ba" strokeWidth="1" fill="none"/></svg>,
            CoinOutline: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><rect x="9" y="9" width="6" height="6" rx="0.5"/></svg>,
            CheckCircle: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
            ArrowRight: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>,
            CalendarDays: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>,
            Users: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg>,
            Sparkles: ({size=24, className}) => <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>
        };

        // --- 2026 ä¸™åˆå¹´ ç²¾æº–æ›†æ³•æ ¡æ­£ (åšç‰™è£œè²¡åº«æ—¥ç¨‹) ---
        // ä»¥ä¸‹ç‚ºä¾æ“š 2026 ä¸™åˆå¹´è¾²æ°‘æ›†æ¨ç®—ä¹‹æ¨™æº–åˆäºŒã€åå…­åœ‹æ›†æ—¥æœŸ
        const baseSchedule = [
          { month: 'æ­£æœˆ', d2: '2026-02-18', d16: '2026-03-04' },
          { month: 'äºŒæœˆ', d2: '2026-03-20', d16: '2026-04-03' },
          { month: 'ä¸‰æœˆ', d2: '2026-04-18', d16: '2026-05-02' },
          { month: 'å››æœˆ', d2: '2026-05-18', d16: '2026-06-01' },
          { month: 'äº”æœˆ', d2: '2026-06-16', d16: '2026-06-30' },
          { month: 'å…­æœˆ', d2: '2026-07-15', d16: '2026-07-29' },
          { month: 'ä¸ƒæœˆ', d2: '2026-08-14', d16: '2026-08-28' },
          { month: 'å…«æœˆ', d2: '2026-09-12', d16: '2026-09-26' },
          { month: 'ä¹æœˆ', d2: '2026-10-11', d16: '2026-10-25' }, 
          { month: 'åæœˆ', d2: '2026-11-10', d16: '2026-11-24' },
          { month: 'åä¸€æœˆ', d2: '2026-12-10', d16: '2026-12-24' },
          { month: 'åäºŒæœˆ', d2: '2027-01-08', d16: '2027-01-22' },
        ];

        // åˆ¤æ–·æ˜¯å¦ç‚ºç‰¹æ®Šæ—¥å­ä¸¦ã€Œæå‰ä¸€å¤©ã€
        const getAdjustedDate = (dateString, lunarMonthName) => {
          if (!dateString) return null;
          // é‡å° 2026 å…¨å¹´åº¦ç²¾æº–æ’æŸ¥ä¹‹å—æ­»æ—¥ã€æœˆç ´æ—¥ã€æˆŠæ—¥ã€ç´…ç ‚æ—¥
          const specialDateRules = {
            '2026-03-20': { adjust: true, reason: 'ç´…ç ‚æ—¥' },
            '2026-04-18': { adjust: true, reason: 'æœˆç ´æ—¥' },
            '2026-09-26': { adjust: true, reason: 'æœˆç ´æ—¥' },
            '2026-10-11': { adjust: true, reason: 'æˆŠæ—¥' },
            '2026-11-10': { adjust: true, reason: 'æˆŠæ—¥' },
            '2026-12-10': { adjust: true, reason: 'æˆŠæ—¥/æœˆç ´æ—¥' },
            '2027-01-22': { adjust: true, reason: 'ç´…ç ‚æ—¥' }
          };
          
          let date = new Date(dateString);
          let isAdjusted = false;
          let adjustReason = '';
          
          if (specialDateRules[dateString]) {
            const rule = specialDateRules[dateString];
            if (rule.adjust) { 
              // åŸ·è¡Œæå‰ä¸€å¤©é‚è¼¯
              date.setDate(date.getDate() - 1); 
              isAdjusted = true; 
              adjustReason = rule.reason; 
            }
          }
          const y = date.getFullYear();
          const m = String(date.getMonth() + 1).padStart(2, '0');
          const d = String(date.getDate()).padStart(2, '0');
          return { original: dateString, actual: `${y}-${m}-${d}`, isAdjusted, adjustReason };
        };

        function App() {
          const [schedule, setSchedule] = useState([]);
          const [isSubmitting, setIsSubmitting] = useState(false);
          const [isSubmitted, setIsSubmitted] = useState(false);
          
          const cutoffDate = new Date();
          cutoffDate.setDate(cutoffDate.getDate() + 3);
          const cutoffDateString = `${cutoffDate.getFullYear()}-${String(cutoffDate.getMonth() + 1).padStart(2, '0')}-${String(cutoffDate.getDate()).padStart(2, '0')}`;

          const [formData, setFormData] = useState({
            name: '', phone: '', address: '', 
            calendarType: 'è¾²æ›†', birthDate: '', birthTime: 'å‰æ™‚',
            selectedDates: [],
            participantsCount: 1,
            additionalInfo: '',
          });

          useEffect(() => {
            const processedSchedule = baseSchedule.map(item => ({
              month: item.month,
              d2: getAdjustedDate(item.d2, item.month),
              d16: getAdjustedDate(item.d16, item.month)
            }));
            setSchedule(processedSchedule);
          }, []);

          const handleInputChange = (e) => {
            const { name, value } = e.target;
            setFormData(prev => ({ 
              ...prev, 
              [name]: name === 'participantsCount' ? parseInt(value, 10) || 1 : value 
            }));
          };

          const toggleDate = (dateActual) => {
            setFormData(prev => {
              const isSelected = prev.selectedDates.includes(dateActual);
              if (isSelected) return { ...prev, selectedDates: prev.selectedDates.filter(d => d !== dateActual) };
              else return { ...prev, selectedDates: [...prev.selectedDates, dateActual] };
            });
          };

          const handleReset = () => {
            setIsSubmitted(false);
            setFormData(prev => ({ ...prev, selectedDates: [], additionalInfo: '' }));
            document.getElementById('register').scrollIntoView({ behavior: 'smooth' });
          };

          const handleSubmit = async (e) => {
            e.preventDefault();
            if (formData.selectedDates.length === 0) { alert("è«‹é¸æ“‡è£œè²¡åº«æ—¥æœŸï¼"); return; }
            setIsSubmitting(true);
            
            // æœ€æ–°çš„ Google Apps Script ç¶²å€
            const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwYCysXwQ9JzswbflFM9QrDUtCISR02eUYG-4VxF2_Hb3TwWdo097it8RA6b8RJavVTag/exec'; 
            
            const calculatedTotal = 880 * (formData.participantsCount || 1) * formData.selectedDates.length;

            // æº–å‚™è³‡æ–™çµæ§‹ (å°æ‡‰å¾Œå°æ¥æ”¶)
            const payload = {
              name: formData.name,
              phone: formData.phone,
              address: formData.address,
              calendarType: formData.calendarType,
              birthDate: formData.birthDate,
              birthTime: formData.birthTime,
              selectedDate: formData.selectedDates.join('ã€ '),
              additionalInfo: formData.additionalInfo ? formData.additionalInfo : 'ç„¡',
              participantsCount: formData.participantsCount,
              totalPrice: calculatedTotal,
              formSource: 'ç¦å¾·æ­£ç¥è£œè²¡åº«',
              ritualType: 'è£œè²¡åº«',
              sessionType: 'ç¦å¾·æ‹›è²¡è£œåº«å°ˆæ¡ˆ'
            };

            // ä½¿ç”¨ URLSearchParams è½‰æ›ç‚ºæ¨™æº–è¡¨å–®æ ¼å¼ï¼Œé¿é–‹ CORS é˜»æ“‹
            const formBody = new URLSearchParams(payload).toString();

            try {
              // åŠ ä¸Š mode: 'no-cors' è§£æ±ºç€è¦½å™¨è·¨åŸŸ (CORS) é˜»æ“‹ fetch çš„å•é¡Œ
              await fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                  'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: formBody,
              });
              
              // no-cors æ¨¡å¼ä¸‹ç„¡æ³•è®€å– response.okï¼Œè‹¥ç„¡æ‹‹å‡ºéŒ¯èª¤å‰‡è¦–ç‚ºå‚³é€æˆåŠŸ
              setIsSubmitted(true);
              document.getElementById('register').scrollIntoView({ behavior: 'smooth' });
            } catch (error) {
              console.error("æäº¤éŒ¯èª¤:", error);
              alert("ç¶²è·¯é€£ç·šç•°å¸¸ï¼Œè«‹ç¢ºèªç¶²è·¯ç‹€æ…‹å¾Œå†è©¦ã€‚");
            } finally {
              setIsSubmitting(false);
            }
          };

          const totalPrice = 880 * (formData.participantsCount || 1) * formData.selectedDates.length;

          return (
            <div className="relative min-h-screen text-gray-300 font-sans selection:bg-dao-wealth selection:text-white wealth-pattern">
              
              {/* --- èƒŒæ™¯ç¥è–å…‰æšˆèˆ‡è³œç¦å…ƒç´  (å°ˆæ¥­è¨­è¨ˆæ„Ÿæ„è±¡) --- */}
              <div className="fixed inset-0 z-[-3] bg-dao-black"></div>
              
              {/* é ‚éƒ¨ç¥è–ä½›å…‰ */}
              <div className="fixed top-0 left-1/2 -translate-x-1/2 w-full max-w-4xl h-[70vh] bg-gradient-to-b from-dao-gold/20 to-transparent blur-[120px] pointer-events-none z-[-2]"></div>

              {/* åº•éƒ¨èˆ‡å…©å´æ°›åœå…‰ */}
              <div className="fixed top-[-10%] left-[-10%] w-[50vw] h-[50vw] bg-dao-red/10 blur-[150px] rounded-full pointer-events-none z-[-2]"></div>
              <div className="fixed bottom-[-10%] right-[-10%] w-[50vw] h-[50vw] bg-dao-wealth/10 blur-[150px] rounded-full pointer-events-none z-[-2]"></div>
              
              {/* SVG é‡‘å…ƒå¯¶èˆ‡é‡‘å¹£é£„æµ® (é«˜è³ªæ„Ÿè¨­è¨ˆæ„è±¡) */}
              <div className="fixed top-[15%] left-[5%] opacity-40 animate-float-slow pointer-events-none z-[-1]">
                <Icons.Ingot size={100} className="drop-shadow-[0_10px_20px_rgba(212,175,55,0.4)]" />
              </div>
              <div className="fixed bottom-[15%] right-[5%] opacity-30 animate-spin-very-slow pointer-events-none z-[-1]">
                <Icons.Coin size={140} className="drop-shadow-[0_10px_20px_rgba(212,175,55,0.3)]" />
              </div>
              <div className="fixed top-[60%] left-[85%] opacity-40 animate-float-delayed pointer-events-none z-[-1]">
                <Icons.Ingot size={70} className="drop-shadow-[0_10px_20px_rgba(212,175,55,0.4)]" />
              </div>

              {/* --- 1. Header ä¸»è¦–è¦º --- */}
              <header className="relative py-28 px-4 sm:px-8 overflow-hidden min-h-[90vh] flex items-center justify-center border-b border-dao-wealth/30">
                <div className="absolute inset-0 z-0">
                    <img src="https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2000&auto=format&fit=crop" className="w-full h-full object-cover opacity-30 mix-blend-color-dodge" alt="é‡‘è‰²æ„è±¡èƒŒæ™¯" />
                    <div className="absolute inset-0 bg-gradient-to-b from-dao-black/50 via-dao-black/60 to-dao-black"></div>
                </div>

                <div className="max-w-4xl mx-auto relative z-10 text-center space-y-8 mt-10 animate-fade-in">
                  <div className="inline-block px-6 py-2 rounded-full border border-dao-gold/60 bg-dao-black/50 backdrop-blur-md text-dao-gold font-bold tracking-[0.3em] text-sm mb-2 shadow-[0_0_15px_rgba(212,175,55,0.4)] animate-pulse-slow">
                    ç¦å¾·è³‡ç¦ Â· ç”Ÿæ„èˆˆéš†
                  </div>
                  <h1 className="text-5xl md:text-7xl font-bold serif-font leading-tight">
                    <span className="gold-text block mb-3 drop-shadow-2xl">ç¦å¾·æ­£ç¥</span>
                    <span className="text-white text-3xl md:text-5xl font-medium tracking-wide drop-shadow-lg">åˆäºŒã€åå…­â€§è£œè²¡åº«ç§‘å„€</span>
                  </h1>
                  <p className="text-xl md:text-2xl text-gray-300 max-w-2xl mx-auto leading-relaxed font-light mt-6 text-shadow-sm">
                    å®‰å¥‰ç¦å¾·ï¼Œæ‹›è²¡ç´çã€‚<br/>
                    <span className="text-dao-gold font-medium">è£œè¶³æœ¬å‘½è²¡åº«ç¼ºé™·ï¼Œé–‹å•Ÿæ•´æœˆäº‹æ¥­åˆ©å¸‚ã€‚</span><br/>
                    ç¥ˆæ±‚å®¶å®…å¹³å®‰ï¼Œè²¡æºå»£é€²ã€‚
                  </p>
                  
                  <div className="pt-10 flex flex-col sm:flex-row gap-4 justify-center items-center">
                    <a href="#register" className="relative group inline-flex items-center gap-2 bg-gradient-to-r from-dao-wealth to-dao-red text-white font-bold text-xl px-12 py-5 rounded-sm shadow-[0_0_30px_rgba(180,83,9,0.5)] transition-all hover:-translate-y-1 hover:shadow-[0_0_40px_rgba(212,175,55,0.6)] overflow-hidden">
                      <div className="absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"></div>
                      é ç´„è£œè²¡åº« <Icons.ArrowRight size={24} />
                    </a>
                    <a href="https://portaly.cc/bwa.bway2068" target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-2 border border-dao-gold text-dao-gold hover:bg-dao-gold/10 font-bold text-xl px-12 py-5 rounded-sm transition-all hover:-translate-y-1 shadow-[0_0_15px_rgba(212,175,55,0.1)] hover:shadow-[0_0_25px_rgba(212,175,55,0.3)]">
                      å ±åå…¶ä»–ç§‘å„€ <Icons.Sparkles size={24} />
                    </a>
                  </div>
                </div>
              </header>

              {/* --- 2. ä»‹ç´¹å€å¡Š --- */}
              <section id="intro" className="py-24 px-4 max-w-5xl mx-auto relative">
                <div className="text-center mb-16">
                  <h2 className="text-3xl font-bold text-dao-gold serif-font mb-4 flex items-center justify-center gap-3">
                    <Icons.Coin size={32} className="drop-shadow-md" /> ç‚ºä»€éº¼è¦ã€Œåšç‰™ã€è£œè²¡åº«ï¼Ÿ
                  </h2>
                  <div className="h-1 w-24 bg-gradient-to-r from-transparent via-dao-wealth to-transparent mx-auto rounded"></div>
                </div>
                
                <div className="grid md:grid-cols-2 gap-12 items-center">
                  <div className="space-y-6 text-lg leading-relaxed text-justify">
                    <p>
                        è¾²æ›†æ¯æœˆçš„<strong className="text-white font-bold">åˆäºŒã€åå…­</strong>æ˜¯ç¥­æ‹œåœŸåœ°å…¬çš„ã€Œåšç‰™ã€æ—¥ã€‚åœŸåœ°å…¬ä¸åƒ…æ˜¯åŸºå±¤å®ˆè­·ç¥ï¼Œæ›´æ˜¯æŒç®¡åœ°æ–¹è²¡å¯Œèˆ‡è³‡æºçš„ã€Œç¦å¾·æ­£ç¥ã€ã€‚
                    </p>
                    <div className="bg-gradient-to-r from-dao-wealth/20 to-transparent border-l-4 border-dao-gold p-6 rounded-r-lg relative overflow-hidden shadow-lg">
                      <Icons.Ingot size={150} className="absolute -right-10 -bottom-10 opacity-10 rotate-12 text-dao-gold" />
                      <p className="text-gray-200 relative z-10 italic">
                        ã€Œè²¡åº«åˆ†ç‚ºå¤©åº«ã€åœ°åº«ã€æ°´åº«ã€‚è‹¥è²¡åº«æœ‰æï¼Œå‰‡è³ºå¤šç•™å°‘ã€æ„å¤–è€—è²¡ã€‚é€éè£œè²¡åº«ç§‘å„€ï¼Œå‘ç¦å¾·æ­£ç¥ç¥ˆè«‹è½‰åŒ–ï¼ŒåŠ æŒè²¡æºã€‚ã€
                      </p>
                    </div>
                    <p>
                        æœ¬æ³•æœƒç”±æ³•å¸«ä¸»æŒï¼Œå‚™å¦¥<strong className="text-dao-gold font-bold">è£œè²¡åº«å°ˆç”¨é‡‘ç´™ã€äº”è·¯æ‹›è²¡ç–æ–‡</strong>ï¼Œç‚ºä¿¡çœ¾è£œè¶³è²¡é‹ç¼ºå£ï¼Œè®“åŠªåŠ›å·¥ä½œçš„æˆæœèƒ½å¤ å¯¦è³ªè½‰åŒ–ç‚ºè²¡å¯Œã€‚
                    </p>
                  </div>
                  
                  <div className="bg-dao-dark/90 backdrop-blur-xl border border-dao-wealth/40 p-8 rounded-2xl shadow-[0_15px_40px_rgba(0,0,0,0.6)] relative group">
                    <h3 className="text-xl font-bold text-white mb-6 border-b border-dao-wealth/30 pb-4 serif-font">é©åˆåƒåŠ å°è±¡</h3>
                    <ul className="space-y-6">
                      <li className="flex gap-4 items-start">
                        <div className="shrink-0 mt-1"><Icons.Sparkles className="text-dao-gold" size={22} /></div>
                        <div>
                          <strong className="text-dao-gold block mb-1 font-bold">æ¥­å‹™èˆ‡ç‡Ÿå•†è€…</strong>
                          <p className="text-sm text-gray-400">ç¥ˆæ±‚æ¥­ç¸¾çªç ´ã€å®¢æºç©©å®šã€è¨‚å–®æºæºä¸çµ•ã€‚</p>
                        </div>
                      </li>
                      <li className="flex gap-4 items-start">
                        <div className="shrink-0 mt-1"><Icons.CoinOutline className="text-dao-gold" size={22} /></div>
                        <div>
                          <strong className="text-dao-gold block mb-1 font-bold">è²¡é‹èµ·ä¼è¼ƒå¤§è€…</strong>
                          <p className="text-sm text-gray-400">æ„Ÿè¦ºè³ºéŒ¢è¾›è‹¦ã€å­˜ä¸ä½éŒ¢ã€å¸¸æœ‰é æ–™å¤–æ”¯å‡ºçš„ä¿¡çœ¾ã€‚</p>
                        </div>
                      </li>
                      <li className="flex gap-4 items-start">
                        <div className="shrink-0 mt-1"><Icons.Ingot size={24} className="text-dao-gold" /></div>
                        <div>
                          <strong className="text-dao-gold block mb-1 font-bold">è½‰è·æˆ–å‰µæ¥­è€…</strong>
                          <p className="text-sm text-gray-400">ç¥ˆæ±‚æ–°ç’°å¢ƒèƒ½é‡åˆ°è²´äººç›¸åŠ©ï¼Œè·æ¶¯ç™¼å±•é †é‚ã€‚</p>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </section>

              {/* --- 3. å®£å‚³èˆ‡è©³ç´°èªªæ˜æ–¹æ ¼ (1200x450 & 1376x768) --- */}
              <section className="py-12 px-4 max-w-5xl mx-auto space-y-10 relative z-10">
                {/* 1200x450 æ–¹æ ¼ - ä½¿ç”¨ä½¿ç”¨è€…æä¾›çš„åœ–æª” */}
                <div className="relative w-full rounded-2xl overflow-hidden shadow-[0_15px_40px_rgba(0,0,0,0.6)] border border-dao-wealth/40 group bg-dao-dark">
                  <img src="https://bwabway2068.github.io/wealth-god-2026/banner6.jpg" alt="æ´»å‹•å®£å‚³" className="w-full aspect-[1200/450] object-cover transition-all duration-700 transform group-hover:scale-105" />
                </div>

                {/* 1376x768 æ–¹æ ¼ - ä½¿ç”¨ä½¿ç”¨è€…æä¾›çš„åœ–æª” */}
                <div className="relative w-full rounded-2xl overflow-hidden shadow-[0_15px_40px_rgba(0,0,0,0.6)] border border-dao-wealth/40 group bg-dao-dark">
                  <img src="https://bwabway2068.github.io/wealth-god-2026/banner3.jpg" alt="è©³ç´°èªªæ˜" className="w-full aspect-[1376/768] object-cover transition-all duration-700 transform group-hover:scale-105" />
                </div>
              </section>

              {/* --- 4. æ–¹æ¡ˆåƒ¹æ ¼ --- */}
              <section className="py-20 bg-dao-wealth/10 border-y border-dao-wealth/20 relative backdrop-blur-sm">
                <div className="max-w-4xl mx-auto px-4">
                  <div className="text-center mb-12">
                     <h2 className="text-3xl font-bold serif-font gold-text">è£œè²¡åº«çµç·£æ–¹æ¡ˆ</h2>
                  </div>

                  <div className="bg-gradient-to-br from-dao-dark to-black border border-dao-gold/40 p-8 sm:p-12 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.8)] flex flex-col md:flex-row items-center justify-between gap-8 relative overflow-hidden group hover:border-dao-gold transition-colors">
                    
                    {/* èƒŒæ™¯å¤§å…ƒå¯¶è£é£¾ */}
                    <div className="absolute -right-12 -top-12 opacity-10 group-hover:scale-110 group-hover:opacity-20 transition-all duration-700 ease-out">
                        <Icons.Ingot size={300} className="rotate-[30deg] text-dao-gold" />
                    </div>

                    <div className="flex-1 space-y-4 text-center md:text-left relative z-10">
                      <h3 className="text-2xl font-bold text-white flex items-center justify-center md:justify-start gap-3 serif-font">
                        <Icons.Ingot size={32} /> ç¦å¾·æ‹›è²¡è£œåº«å°ˆæ¡ˆ
                      </h3>
                      <p className="text-gray-300 text-sm md:text-base leading-relaxed">
                        åŒ…å«ï¼šåœŸåœ°å…¬è£œè²¡åº«ç–æ–‡ã€å°ˆç”¨è£œè²¡åº«é‡‘ç´™å¥—çµ„ã€<br/>
                        åˆ©å¸‚æ‹›è²¡ç¬¦ä¸€å¼µã€‚
                      </p>
                      <div className="inline-block bg-gradient-to-r from-dao-red/30 to-dao-red/10 text-red-300 text-sm px-5 py-2 rounded-full border border-dao-red/50 mt-2 shadow-inner">
                        <span className="mr-2">ğŸ</span> çµç·£ç¦®ï¼šç¦å¾·æ­£ç¥æ‹›è²¡ç¬¦ä¸€å¼µ + è·Ÿå¤©å¸«éš¨èº«å¡ä¸€å¼µ + ä¸å®šæœŸåŠ æŒçµç·£å“ä¸€ä»½
                      </div>
                    </div>

                    <div className="text-center md:text-right shrink-0 relative z-10">
                      <div className="text-4xl md:text-5xl font-black text-dao-gold mb-4 serif-font drop-shadow-md">NT$ 880</div>
                      <a href="#register" className="inline-block bg-gradient-to-r from-dao-gold to-yellow-500 hover:from-yellow-400 hover:to-yellow-300 text-black font-bold px-10 py-4 rounded-md transition-all transform hover:scale-105 shadow-[0_5px_15px_rgba(212,175,55,0.4)]">
                        ç«‹å³ç™»è¨˜
                      </a>
                    </div>
                  </div>
                </div>
              </section>

              {/* --- 5. æ—¥ç¨‹è¡¨ --- */}
              <section className="py-20 px-4 max-w-4xl mx-auto">
                <div className="text-center mb-10">
                  <h2 className="text-3xl font-bold text-dao-gold serif-font flex items-center justify-center gap-3 mb-4">
                    <Icons.CalendarDays size={28} /> 2026 åšç‰™è£œè²¡åº«æ—¥ç¨‹
                  </h2>
                  <p className="text-gray-400 text-sm">è¾²æ›†åˆäºŒã€åå…­å®šæœŸèˆ‰è¾¦ï¼Œå¦‚é‡åˆ°å—æ­»æ—¥ã€æœˆç ´æ—¥ã€æˆŠæ—¥ã€ç´…ç ‚æ—¥çš†<strong className="text-dao-gold-light">æå‰ä¸€å¤©</strong>æ–½ä½œã€‚</p>
                </div>

                <div className="overflow-x-auto bg-dao-dark/90 backdrop-blur-md rounded-xl border border-dao-wealth/30 shadow-[0_10px_30px_rgba(0,0,0,0.5)] relative overflow-hidden">
                  <Icons.Coin size={350} className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-5 pointer-events-none text-dao-gold" />
                  
                  <table className="w-full text-left text-sm md:text-base relative z-10">
                    <thead className="bg-dao-black/90 text-dao-gold border-b border-dao-wealth/40">
                      <tr>
                        <th className="p-5 font-bold text-center">æœˆä»½</th>
                        <th className="p-5 font-bold">åˆäºŒ åšç‰™æ—¥</th>
                        <th className="p-5 font-bold">åå…­ åšç‰™æ—¥</th>
                      </tr>
                    </thead>
                    <tbody className="divide-y divide-dao-wealth/10">
                      {schedule.map((item, index) => (
                        <tr key={index} className="hover:bg-dao-wealth/10 transition-colors">
                          <td className="p-4 font-bold text-center text-dao-gold serif-font">{item.month}</td>
                          <td className="p-4">
                            {item.d2 ? (
                              <div className="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2">
                                <span className={item.d2.isAdjusted ? 'line-through text-gray-600 text-xs' : 'text-gray-200 font-medium'}>{item.d2.isAdjusted ? item.d2.original : item.d2.actual}</span>
                                {item.d2.isAdjusted && <span className="text-white font-medium">{item.d2.actual}</span>}
                                {item.d2.isAdjusted && <span className="text-[10px] bg-dao-wealth/60 text-dao-gold-light px-1.5 py-0.5 rounded border border-dao-gold/50">{item.d2.adjustReason}æå‰</span>}
                              </div>
                            ) : '-'}
                          </td>
                          <td className="p-4">
                            {item.d16 ? (
                              <div className="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2">
                                <span className={item.d16.isAdjusted ? 'line-through text-gray-600 text-xs' : 'text-gray-200 font-medium'}>{item.d16.isAdjusted ? item.d16.original : item.d16.actual}</span>
                                {item.d16.isAdjusted && <span className="text-white font-medium">{item.d16.actual}</span>}
                                {item.d16.isAdjusted && <span className="text-[10px] bg-dao-wealth/60 text-dao-gold-light px-1.5 py-0.5 rounded border border-dao-gold/50">{item.d16.adjustReason}æå‰</span>}
                              </div>
                            ) : '-'}
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              </section>

              {/* --- 5.5 ä¿¡çœ¾æ„Ÿæ‡‰å›é¥‹ (å®‰å¿ƒèˆ‡å°ˆæ¥­æ„Ÿ) --- */}
              <section className="py-24 px-4 max-w-6xl mx-auto relative z-10">
                <div className="text-center mb-16">
                  <h2 className="text-3xl font-bold text-dao-gold serif-font mb-4 flex items-center justify-center gap-3">
                    <Icons.Sparkles size={28} className="text-dao-gold" /> ä¿¡çœ¾æ„Ÿæ‡‰èˆ‡å›é¥‹
                  </h2>
                  <div className="h-1 w-24 bg-gradient-to-r from-transparent via-dao-wealth to-transparent mx-auto rounded"></div>
                  <p className="text-gray-400 text-sm mt-4">èª å¿ƒç¥ˆæ±‚ï¼Œç¦å¾·åº‡ä½‘ã€‚æ„Ÿè¬ä¾†è‡ªå„è¡Œå„æ¥­ä¿¡çœ¾çš„çœŸå¯¦åé¥‹ï¼Œè¦‹è­‰å°ˆæ¥­ç§‘å„€çš„åŠ›é‡ã€‚</p>
                </div>

                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                  {/* å›é¥‹ 1 */}
                  <div className="bg-dao-dark/90 backdrop-blur-xl border border-dao-wealth/30 p-8 rounded-2xl shadow-[0_15px_40px_rgba(0,0,0,0.6)] hover:border-dao-gold/50 transition-all duration-300 hover:-translate-y-1 relative group overflow-hidden">
                    <div className="absolute top-2 right-4 opacity-10 text-dao-gold text-8xl font-serif leading-none group-hover:opacity-20 transition-opacity">"</div>
                    <p className="text-gray-300 text-sm leading-relaxed mb-8 relative z-10 italic">
                      ã€ŒåŸæœ¬å¡äº†ä¸‰å€‹æœˆçš„æ¡ˆå­ï¼Œåœ¨åƒåŠ å®ŒåˆäºŒçš„è£œè²¡åº«ç§‘å„€å¾Œï¼Œéš”é€±å®¢æˆ¶ç«Ÿç„¶ä¸»å‹•è¯ç¹«ç°½ç´„ã€‚æ³•å¸«è¦ªæ‰¹çš„ç–æ–‡éå¸¸åš´è¬¹ï¼Œæµç¨‹ä¸€çµ²ä¸è‹Ÿï¼Œè®“æˆ‘æ„Ÿåˆ°ç„¡æ¯”å®‰å¿ƒï¼Œæ¥­ç¸¾ä¹Ÿæ¼¸å…¥ä½³å¢ƒã€‚ã€
                    </p>
                    <div className="flex items-center gap-4 border-t border-dao-wealth/20 pt-5 relative z-10">
                      <div className="w-12 h-12 rounded-full bg-gradient-to-br from-dao-wealth/40 to-dao-black flex items-center justify-center text-dao-gold font-bold border border-dao-gold/30 text-lg shadow-inner">æ—</div>
                      <div>
                        <div className="text-white text-sm font-bold tracking-wider">æ— O å›</div>
                        <div className="text-xs text-dao-gold-light mt-0.5">æˆ¿åœ°ç”¢æ¥­å‹™</div>
                      </div>
                    </div>
                  </div>

                  {/* å›é¥‹ 2 */}
                  <div className="bg-dao-dark/90 backdrop-blur-xl border border-dao-wealth/30 p-8 rounded-2xl shadow-[0_15px_40px_rgba(0,0,0,0.6)] hover:border-dao-gold/50 transition-all duration-300 hover:-translate-y-1 relative group overflow-hidden">
                    <div className="absolute top-2 right-4 opacity-10 text-dao-gold text-8xl font-serif leading-none group-hover:opacity-20 transition-opacity">"</div>
                    <p className="text-gray-300 text-sm leading-relaxed mb-8 relative z-10 italic">
                      ã€Œé–‹åº—åšç”Ÿæ„æœ€æ€•å¤§èµ·å¤§è½ï¼Œè‡ªå¾æŒ‰æ™‚è·Ÿè‘—æ³•æœƒåšç‰™è£œåº«ï¼Œåº—è£¡çš„å®¢æµå¹³ç©©å¾ˆå¤šï¼Œé‡åˆ°æ·¡å­£ä¹Ÿèƒ½å®‰ç„¶åº¦éã€‚ç§‘å„€æº–å‚™çš„é‡‘ç´™è·Ÿç–æ–‡éƒ½å¾ˆè¬›ç©¶ï¼Œèƒ½æ„Ÿå—åˆ°æ»¿æ»¿çš„å°ˆæ¥­èˆ‡æ•¬æ„ã€‚ã€
                    </p>
                    <div className="flex items-center gap-4 border-t border-dao-wealth/20 pt-5 relative z-10">
                      <div className="w-12 h-12 rounded-full bg-gradient-to-br from-dao-wealth/40 to-dao-black flex items-center justify-center text-dao-gold font-bold border border-dao-gold/30 text-lg shadow-inner">æ</div>
                      <div>
                        <div className="text-white text-sm font-bold tracking-wider">æ O ç¦</div>
                        <div className="text-xs text-dao-gold-light mt-0.5">é¤é£²åº—è€é—†</div>
                      </div>
                    </div>
                  </div>

                  {/* å›é¥‹ 3 */}
                  <div className="bg-dao-dark/90 backdrop-blur-xl border border-dao-wealth/30 p-8 rounded-2xl shadow-[0_15px_40px_rgba(0,0,0,0.6)] hover:border-dao-gold/50 transition-all duration-300 hover:-translate-y-1 relative group overflow-hidden">
                    <div className="absolute top-2 right-4 opacity-10 text-dao-gold text-8xl font-serif leading-none group-hover:opacity-20 transition-opacity">"</div>
                    <p className="text-gray-300 text-sm leading-relaxed mb-8 relative z-10 italic">
                      ã€Œæˆ‘æœ¬ä¾†å°ç§‘å„€æ¯”è¼ƒéµé½’ï¼Œä½†è¿‘æœŸå°ˆæ¡ˆä¸€ç›´ä¸é †ï¼ŒæŠ±è‘—è©¦è©¦çœ‹çš„å¿ƒæ…‹å ±åã€‚æ²’æƒ³åˆ°å ±åå¾Œï¼Œå¹¾é …æ£˜æ‰‹çš„å•é¡Œè¿åˆƒè€Œè§£ã€‚ç·šä¸Šå ±åç³»çµ±å¾ˆæ¸…æ¥šï¼Œæ”¶åˆ°æ³•æœƒåœ“æ»¿çš„é€šçŸ¥ä¹Ÿè®“äººæ„Ÿåˆ°ååˆ†å¯ä¿¡ã€‚ã€
                    </p>
                    <div className="flex items-center gap-4 border-t border-dao-wealth/20 pt-5 relative z-10">
                      <div className="w-12 h-12 rounded-full bg-gradient-to-br from-dao-wealth/40 to-dao-black flex items-center justify-center text-dao-gold font-bold border border-dao-gold/30 text-lg shadow-inner">ç‹</div>
                      <div>
                        <div className="text-white text-sm font-bold tracking-wider">ç‹ O å‚‘</div>
                        <div className="text-xs text-dao-gold-light mt-0.5">ç§‘æŠ€æ¥­å°ˆæ¡ˆç¶“ç†</div>
                      </div>
                    </div>
                  </div>

                  {/* å›é¥‹ 4 */}
                  <div className="bg-dao-dark/90 backdrop-blur-xl border border-dao-wealth/30 p-8 rounded-2xl shadow-[0_15px_40px_rgba(0,0,0,0.6)] hover:border-dao-gold/50 transition-all duration-300 hover:-translate-y-1 relative group overflow-hidden">
                    <div className="absolute top-2 right-4 opacity-10 text-dao-gold text-8xl font-serif leading-none group-hover:opacity-20 transition-opacity">"</div>
                    <p className="text-gray-300 text-sm leading-relaxed mb-8 relative z-10 italic">
                      ã€Œä»¥å‰ç¸½è¦ºå¾—å®¶è£¡å¸¸å¸¸æœ‰é æ–™ä¹‹å¤–çš„é–‹éŠ·ï¼ŒéŒ¢å¾ˆé›£å­˜ä¸‹ä¾†ã€‚å¹«å…¨å®¶äººå ±åè£œè²¡åº«å¾Œï¼Œé™¤äº†ä¸å¿…è¦çš„æ”¯å‡ºæ¸›å°‘äº†ï¼Œå…ˆç”Ÿåœ¨å·¥ä½œä¸Šä¹Ÿæ„å¤–ç²å¾—ä¸€ç­†çé‡‘ï¼ŒçœŸçš„éå¸¸æ„Ÿæ©ç¦å¾·æ­£ç¥çš„åº‡ä½‘ã€‚ã€
                    </p>
                    <div className="flex items-center gap-4 border-t border-dao-wealth/20 pt-5 relative z-10">
                      <div className="w-12 h-12 rounded-full bg-gradient-to-br from-dao-wealth/40 to-dao-black flex items-center justify-center text-dao-gold font-bold border border-dao-gold/30 text-lg shadow-inner">å¼µ</div>
                      <div>
                        <div className="text-white text-sm font-bold tracking-wider">å¼µ O å©·</div>
                        <div className="text-xs text-dao-gold-light mt-0.5">å®¶åº­ä¸»å©¦</div>
                      </div>
                    </div>
                  </div>

                  {/* å›é¥‹ 5 */}
                  <div className="bg-dao-dark/90 backdrop-blur-xl border border-dao-wealth/30 p-8 rounded-2xl shadow-[0_15px_40px_rgba(0,0,0,0.6)] hover:border-dao-gold/50 transition-all duration-300 hover:-translate-y-1 relative group overflow-hidden">
                    <div className="absolute top-2 right-4 opacity-10 text-dao-gold text-8xl font-serif leading-none group-hover:opacity-20 transition-opacity">"</div>
                    <p className="text-gray-300 text-sm leading-relaxed mb-8 relative z-10 italic">
                      ã€Œå‰µæ¥­åˆæœŸæ¯å€‹æœˆéƒ½åœ¨ç‡’éŒ¢ï¼Œæœ‹å‹ä»‹ç´¹ä¾†åšäº”è·¯æ‹›è²¡è£œåº«ã€‚é€™åŠå¹´ä¾†æ˜é¡¯æ„Ÿè¦ºåˆ°è²¡å‹™ç‹€æ³è®Šç©©å¥ï¼Œé‡åˆ°é›£é—œä¹Ÿå¸¸æœ‰è²´äººç›¸åŠ©ï¼Œç¾åœ¨æ¯å€‹æœˆåˆäºŒåå…­éƒ½æœƒå›ºå®šå§”è¨—æ³•å¸«ä»£ç‚ºè¾¦ç†ã€‚ã€
                    </p>
                    <div className="flex items-center gap-4 border-t border-dao-wealth/20 pt-5 relative z-10">
                      <div className="w-12 h-12 rounded-full bg-gradient-to-br from-dao-wealth/40 to-dao-black flex items-center justify-center text-dao-gold font-bold border border-dao-gold/30 text-lg shadow-inner">é™³</div>
                      <div>
                        <div className="text-white text-sm font-bold tracking-wider">é™³ O è±ª</div>
                        <div className="text-xs text-dao-gold-light mt-0.5">é›»å•†è² è²¬äºº</div>
                      </div>
                    </div>
                  </div>

                  {/* å›é¥‹ 6 */}
                  <div className="bg-dao-dark/90 backdrop-blur-xl border border-dao-wealth/30 p-8 rounded-2xl shadow-[0_15px_40px_rgba(0,0,0,0.6)] hover:border-dao-gold/50 transition-all duration-300 hover:-translate-y-1 relative group overflow-hidden">
                    <div className="absolute top-2 right-4 opacity-10 text-dao-gold text-8xl font-serif leading-none group-hover:opacity-20 transition-opacity">"</div>
                    <p className="text-gray-300 text-sm leading-relaxed mb-8 relative z-10 italic">
                      ã€Œè‡ªç”±æ¥­çš„æ”¶å…¥æœ¬ä¾†å°±ä¸ç©©å®šï¼Œæœ‰æ™‚å¹¾å€‹æœˆæ²’æ¡ˆå­çœŸçš„å¾ˆç„¦æ…®ã€‚åšå®Œè£œè²¡åº«å¾Œï¼ŒèˆŠå®¢æˆ¶çªç„¶å›é ­ç™¼åŒ…ï¼Œæ–°æ¡ˆå­ä¹Ÿæ¥é€£é€²ä¾†ã€‚ç¾åœ¨å¿ƒè£¡å®‰å®šå¾ˆå¤šï¼Œå·¥ä½œèµ·ä¾†ä¹Ÿæ›´æœ‰åº•æ°£ï¼Œéå¸¸æ¨è–¦ã€‚ã€
                    </p>
                    <div className="flex items-center gap-4 border-t border-dao-wealth/20 pt-5 relative z-10">
                      <div className="w-12 h-12 rounded-full bg-gradient-to-br from-dao-wealth/40 to-dao-black flex items-center justify-center text-dao-gold font-bold border border-dao-gold/30 text-lg shadow-inner">é»ƒ</div>
                      <div>
                        <div className="text-white text-sm font-bold tracking-wider">é»ƒ O ç‘œ</div>
                        <div className="text-xs text-dao-gold-light mt-0.5">è‡ªç”±æ¥æ¡ˆè¨­è¨ˆå¸«</div>
                      </div>
                    </div>
                  </div>

                </div>
              </section>

              {/* --- 6. å ±åè¡¨å–® --- */}
              <section id="register" className="py-24 px-4 max-w-3xl mx-auto">
                <div className="bg-dao-dark/95 backdrop-blur-xl border border-dao-gold/50 rounded-2xl p-8 md:p-12 shadow-[0_20px_60px_rgba(0,0,0,0.8)] relative overflow-hidden">
                  
                  {/* è¡¨å–®è§’è½è£é£¾ */}
                  <div className="absolute top-0 right-0 p-6 opacity-10 pointer-events-none">
                    <Icons.Ingot size={120} className="rotate-[15deg] text-dao-gold" />
                  </div>
                  
                  {isSubmitted ? (
                    <div className="text-center py-10 space-y-6 animate-fade-in max-w-lg mx-auto relative z-10">
                      <div className="mx-auto w-32 h-32 flex items-center justify-center animate-glow text-dao-gold">
                        <Icons.Ingot size={120} className="drop-shadow-2xl" />
                      </div>
                      <h2 className="text-3xl md:text-4xl font-bold text-white mb-2 serif-font">ç¦é‹è‡¨é–€</h2>
                      <h3 className="text-xl md:text-2xl font-bold text-dao-gold mb-6">æ„Ÿè¬å ±åï¼Œè²¡åº«ç–æ–‡å·²å—ç†</h3>
                      
                      <div className="bg-dao-wealth/10 border border-dao-wealth/30 p-6 rounded-xl text-left mb-6 backdrop-blur-md shadow-inner">
                         <div className="space-y-4 font-mono text-lg">
                            <div className="flex justify-between border-b border-gray-700 pb-2">
                                <span className="text-gray-400 text-sm font-sans">éŠ€è¡Œä»£ç¢¼</span>
                                <span className="text-white">013 (åœ‹æ³°ä¸–è¯)</span>
                            </div>
                            <div className="flex justify-between border-b border-gray-700 pb-2">
                                <span className="text-gray-400 text-sm font-sans">åŒ¯æ¬¾å¸³è™Ÿ</span>
                                <span className="text-dao-gold text-2xl font-bold tracking-widest">059506013547</span>
                            </div>
                            <div className="flex justify-between pt-2">
                                <span className="text-gray-400 text-sm font-sans">çµç·£é‡‘é¡</span>
                                <span className="text-dao-gold text-2xl font-bold">NT$ {totalPrice.toLocaleString()}</span>
                            </div>
                         </div>
                      </div>

                      <p className="text-gray-300 text-sm mb-8 leading-relaxed bg-dao-black/50 p-4 rounded-lg border border-dao-wealth/20">
                        â€» æº«é¦¨æé†’ï¼šè«‹æ–¼åŒ¯æ¬¾å®Œæˆå¾Œï¼Œè‡³ <strong className="text-dao-gold">LINE@</strong> å‘ŠçŸ¥æ‚¨çš„<strong className="text-white">åŒ¯æ¬¾å¸³è™Ÿå¾Œäº”ç¢¼</strong>ï¼Œæ–¹ä¾¿æˆ‘å€‘ç‚ºæ‚¨æŸ¥å¸³èˆ‡ç¢ºèªï¼Œæ„Ÿæ©ï¼
                      </p>

                      <button onClick={handleReset} className="w-full bg-gradient-to-r from-dao-gold to-yellow-500 text-black font-bold py-4 rounded-md hover:from-yellow-400 hover:to-yellow-300 transition-all shadow-lg text-lg">
                          ç¹¼çºŒç‚ºè¦ªå‹é ç´„
                      </button>
                    </div>
                  ) : (
                    <>
                      <div className="text-center mb-10 relative z-10">
                        <h2 className="text-3xl font-bold serif-font gold-text mb-3 drop-shadow-md">ç·šä¸Šå ±åè£œè²¡åº«</h2>
                        <p className="text-gray-400 text-sm">è«‹è©³ç´°å¡«å¯«è³‡æ–™ï¼Œæ³•å¸«å°‡æ–¼æ³•æœƒç•¶æ—¥ç‚ºæ‚¨å®£è®€ç–æ–‡</p>
                      </div>

                      <form onSubmit={handleSubmit} className="space-y-6 relative z-10">
                        
                        <div className="bg-dao-wealth/5 p-6 rounded-xl border border-dao-wealth/20 backdrop-blur-sm">
                          <label className="block text-sm font-medium text-dao-gold mb-2 flex items-center gap-2">
                            <Icons.Users size={18} /> å ±åä»½æ•¸
                          </label>
                          <select name="participantsCount" value={formData.participantsCount} onChange={handleInputChange}
                            className="w-full bg-dao-black/80 border border-dao-wealth/50 rounded-md px-4 py-3 text-white focus:outline-none focus:border-dao-gold focus:ring-1 focus:ring-dao-gold text-lg transition-colors">
                            {[...Array(5)].map((_, i) => <option key={i+1} value={i+1}>{i+1} ä»½ (äºº)</option>)}
                          </select>
                          <p className="text-xs text-dao-gold-light mt-2.5 flex items-center gap-1.5 opacity-80">
                            â€» å ±åä»½æ•¸å¦‚è¶…é5äººï¼Œå¯å…ˆ LINE@ ç§è¨Šé™åã€‚
                          </p>
                          
                          {formData.participantsCount > 1 && (
                            <div className="mt-4 pt-4 border-t border-dao-wealth/30 space-y-3 animate-fade-in">
                              <label className="block text-sm font-medium text-dao-gold">å…¶ä»–ç¥ˆç¦è€…è³‡æ–™</label>
                              <p className="text-xs text-gray-400">è«‹å¡«å¯«å…¶ä»–åƒèˆ‡è€…çš„ï¼šå§“å / åœ‹æ›†(æˆ–è¾²æ›†)ç”Ÿæ—¥èˆ‡æ™‚è¾° / å±…ä½åœ°å€</p>
                              <textarea name="additionalInfo" rows="4" value={formData.additionalInfo} onChange={handleInputChange}
                                className="w-full bg-dao-black/80 border border-dao-wealth/50 rounded-md px-4 py-3 text-white focus:outline-none focus:border-dao-gold focus:ring-1 focus:ring-dao-gold transition-colors resize-none"
                                placeholder="ä¾‹ï¼š&#10;1. ç‹å¤§æ˜ / åœ‹æ›†(è¥¿å…ƒ) 1976å¹´8æœˆ15æ—¥ å‰æ™‚ / å°åŒ—å¸‚...&#10;2. æå°ç¾ / è¾²æ›† 68å¹´2æœˆ2æ—¥ è¾°æ™‚ / å°åŒ—å¸‚..."></textarea>
                            </div>
                          )}
                        </div>

                        <div className="grid md:grid-cols-2 gap-6">
                          <div>
                            <label className="block text-sm font-medium text-gray-300 mb-1">ä¸»è¦ç¥ˆç¦äººå§“å *</label>
                            <input type="text" name="name" required value={formData.name} onChange={handleInputChange}
                              className="w-full bg-dao-black/80 border border-dao-wealth/50 rounded-md px-4 py-3 text-white focus:outline-none focus:border-dao-gold focus:ring-1 focus:ring-dao-gold transition-colors" placeholder="è«‹å¡«å¯«å§“å" />
                          </div>
                          <div>
                            <label className="block text-sm font-medium text-gray-300 mb-1">è¯çµ¡é›»è©± *</label>
                            <input type="tel" name="phone" required value={formData.phone} onChange={handleInputChange}
                              className="w-full bg-dao-black/80 border border-dao-wealth/50 rounded-md px-4 py-3 text-white focus:outline-none focus:border-dao-gold focus:ring-1 focus:ring-dao-gold transition-colors" placeholder="09xx-xxxxxx" />
                          </div>
                        </div>

                        <div>
                          <label className="block text-sm font-medium text-gray-300 mb-1">å…¬å¸æˆ–å±…ä½åœ°å€ *</label>
                          <input type="text" name="address" required value={formData.address} onChange={handleInputChange}
                            className="w-full bg-dao-black/80 border border-dao-wealth/50 rounded-md px-4 py-3 text-white focus:outline-none focus:border-dao-gold focus:ring-1 focus:ring-dao-gold transition-colors" placeholder="ç‡Ÿæ¥­åœ°å€äº¦å¯" />
                        </div>

                        <div className="bg-dao-wealth/5 p-6 rounded-xl border border-dao-wealth/20">
                          <label className="block text-sm font-medium text-dao-gold mb-3">å‡ºç”Ÿèˆ‡æ™‚è¾°</label>
                          <div className="flex gap-6 mb-4">
                            <label className="flex items-center gap-2 cursor-pointer group">
                              <input type="radio" name="calendarType" value="è¾²æ›†" checked={formData.calendarType === 'è¾²æ›†'} onChange={handleInputChange} className="w-4 h-4 text-dao-gold bg-black border-gray-600 focus:ring-dao-gold" />
                              <span className="text-gray-300 group-hover:text-white transition-colors">è¾²æ›†</span>
                            </label>
                            <label className="flex items-center gap-2 cursor-pointer group">
                              <input type="radio" name="calendarType" value="åœ‹æ›†" checked={formData.calendarType === 'åœ‹æ›†'} onChange={handleInputChange} className="w-4 h-4 text-dao-gold bg-black border-gray-600 focus:ring-dao-gold" />
                              <span className="text-gray-300 group-hover:text-white transition-colors">åœ‹æ›† <span className="text-dao-gold-light/80 text-xs ml-1">(è¥¿å…ƒ)</span></span>
                            </label>
                          </div>
                          <div className="grid grid-cols-2 gap-4">
                            <input type="date" name="birthDate" required value={formData.birthDate} onChange={handleInputChange}
                              className="w-full bg-dao-black/80 border border-dao-wealth/50 rounded-md px-4 py-3 text-white focus:outline-none focus:border-dao-gold focus:ring-1 focus:ring-dao-gold transition-colors" />
                            <select name="birthTime" value={formData.birthTime} onChange={handleInputChange}
                              className="w-full bg-dao-black/80 border border-dao-wealth/50 rounded-md px-4 py-3 text-white focus:outline-none focus:border-dao-gold focus:ring-1 focus:ring-dao-gold transition-colors">
                              <option value="å‰æ™‚">å‰æ™‚</option>
                              {["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"].map(t => (
                                <option key={t} value={`${t}æ™‚`}>{t}æ™‚</option>
                              ))}
                            </select>
                          </div>
                        </div>

                        <div className="bg-dao-wealth/5 p-6 rounded-xl border border-dao-wealth/20">
                            <label className="block text-sm font-medium text-dao-gold mb-1">é¸æ“‡è£œè²¡åº«æ—¥æœŸ (å¯è¤‡é¸) *</label>
                            <div className="grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-60 overflow-y-auto custom-scrollbar pr-2 mt-4">
                              {schedule.flatMap((item, idx) => {
                                const sessions = [];
                                if (item.d2) sessions.push({ type: 'åˆäºŒ', dateInfo: item.d2, month: item.month, key: `d2-${idx}` });
                                if (item.d16) sessions.push({ type: 'åå…­', dateInfo: item.d16, month: item.month, key: `d16-${idx}` });
                                return sessions;
                              })
                              .filter(session => session.dateInfo.actual >= cutoffDateString)
                              .map(session => {
                                const isSelected = formData.selectedDates.includes(session.dateInfo.actual);
                                return (
                                  <label key={session.key} className={`flex items-start gap-3 p-3.5 rounded-lg border cursor-pointer transition-all duration-300 ${isSelected ? 'bg-dao-wealth/30 border-dao-gold shadow-[0_0_15px_rgba(212,175,55,0.3)] scale-[1.02]' : 'bg-dao-black/60 border-dao-wealth/30 hover:border-dao-wealth/60'}`}>
                                    <input type="checkbox" checked={isSelected} onChange={() => toggleDate(session.dateInfo.actual)} className="w-5 h-5 mt-0.5 shrink-0 rounded border-gray-600 text-dao-gold focus:ring-dao-gold bg-black" />
                                    <div className="flex flex-col gap-0.5">
                                        <span className={`block text-sm ${isSelected ? 'text-dao-gold font-bold' : 'text-gray-300'}`}>{session.month} {session.type}</span>
                                        {session.dateInfo.isAdjusted ? (
                                          <div className="flex flex-col xl:flex-row xl:items-center gap-1 mt-0.5">
                                            <span className="line-through text-gray-600 text-[10px] leading-none">{session.dateInfo.original}</span>
                                            <div className="flex items-center gap-1.5">
                                              <span className={`text-xs font-medium leading-none ${isSelected ? 'text-white' : 'text-gray-300'}`}>{session.dateInfo.actual}</span>
                                              <span className="text-[10px] bg-dao-wealth/60 text-dao-gold-light px-1.5 py-0.5 rounded border border-dao-gold/50 leading-none">{session.dateInfo.adjustReason}æå‰</span>
                                            </div>
                                          </div>
                                        ) : (
                                          <span className={`text-xs ${isSelected ? 'text-gray-200' : 'text-gray-500'}`}>{session.dateInfo.actual}</span>
                                        )}
                                    </div>
                                  </label>
                                )
                              })}
                            </div>
                        </div>

                        <div className="pt-6">
                          <button type="submit" disabled={isSubmitting} className="w-full bg-gradient-to-r from-dao-wealth to-dao-red text-white font-bold text-xl py-4 rounded-md shadow-[0_10px_20px_rgba(180,83,9,0.4)] transition-all transform hover:-translate-y-1 hover:shadow-[0_15px_30px_rgba(180,83,9,0.6)] flex justify-center items-center gap-2">
                            {isSubmitting ? (
                              <span className="animate-pulse">å‚³é€ç–æ–‡ä¸­...</span>
                            ) : (
                              <>
                                é€å‡ºè£œè²¡åº«é ç´„ <span className="text-dao-gold-light ml-2">(NT$ {totalPrice.toLocaleString()})</span>
                              </>
                            )}
                          </button>
                        </div>
                      </form>
                    </>
                  )}
                </div>
              </section>

              {/* --- Footer --- */}
              <footer className="bg-black py-10 text-center text-gray-500 text-sm border-t border-dao-wealth/20 relative overflow-hidden">
                <div className="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-dao-black px-6 rounded-full border border-dao-wealth/30">
                    <Icons.Coin size={32} className="text-dao-gold drop-shadow-[0_0_10px_rgba(212,175,55,0.5)]" />
                </div>
                <p className="serif-font text-lg text-dao-gold mb-2 mt-4">ç¦å¾·æ­£ç¥ Â© 2026 ä¸™åˆå¹´ è£œè²¡åº«è¿åˆ©å¸‚å°ˆæ¡ˆ</p>
                <p className="tracking-widest">ç¥ˆæ±‚ è²¡æºå»£é€²ï¼å®¶å®…å¹³å®‰ï¼åˆ©å¸‚å¤§å‰</p>
              </footer>

            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
